/*******************************************************
This program was created by the
CodeWizardAVR V3.14 Advanced
Automatic Program Generator
© Copyright 1998-2014 Pavel Haiduc, HP InfoTech s.r.l.
http://www.hpinfotech.com

Project : 
Version : 
Date    : 11/27/2025
Author  : 
Company : 
Comments:  LED Dance using PB0-PB1-PB2 on ATTINY13

Chip type               : ATtiny13
AVR Core Clock frequency: 8.000000 MHz
Memory model            : Tiny
External RAM size       : 0
Data Stack size         : 16
*******************************************************/

#include <tiny13.h>
#include <delay.h>

// Declare your global variables here

void main(void)
{
// Crystal Oscillator division factor: 1
#pragma optsize-
CLKPR=(1<<CLKPCE);
CLKPR=(0<<CLKPCE) | (0<<CLKPS3) | (0<<CLKPS2) | (0<<CLKPS1) | (0<<CLKPS0);
#ifdef _OPTIMIZE_SIZE_
#pragma optsize+
#endif

// Input/Output Ports initialization
// Port B initialization
// PB2, PB1, PB0 = Out   |   PB5, PB4, PB3 = Input
DDRB=(0<<DDB5) | (0<<DDB4) | (0<<DDB3) | (1<<DDB2) | (1<<DDB1) | (1<<DDB0);

// Turn off all outputs initially
PORTB=(0<<PORTB5) | (0<<PORTB4) | (0<<PORTB3) | (0<<PORTB2) | (0<<PORTB1) | (0<<PORTB0);

// Timer/Counter0 stopped (default)
TCCR0A=0;
TCCR0B=0;
TCNT0=0x00;

// External Interrupt(s) Off
GIMSK=0;
MCUCR=0;

// Analog Comparator Off
ACSR=(1<<ACD);
ADCSRB=0;

// ADC Disabled
ADCSRA=0;

while (1)
      {
        // *** LED Dance Pattern ***
        
        // 1) LED ???? (PB0)
        PORTB = (1<<PB0);
        delay_ms(300);

        // 2) LED ??? (PB1)
        PORTB = (1<<PB1);
        delay_ms(300);

        // 3) LED ??? (PB2)
        PORTB = (1<<PB2);
        delay_ms(300);

        // 4) ?? LED ??????
        PORTB = (1<<PB0) | (1<<PB2);
        delay_ms(300);

        // 5) ??? LED ?? ????
        PORTB = (1<<PB0) | (1<<PB1) | (1<<PB2);
        delay_ms(300);

        // 6) ??? ?????
        PORTB = 0x00;
        delay_ms(300);
      }
}
